<!doctype HTML>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="codemirror.js"></script>
<script src="runmode.js"></script>
<script src="setup-page.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Recitation 2: Working with Self-Referential Data</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CSAS-<wbr></wbr>2123
<br/>
Introduction to Object-<wbr></wbr>Oriented Design</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="General.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="Lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="Recitations.html" class="tocviewselflink" data-pltdoc="x">Recitations</a></td></tr><tr><td align="right"></td><td><a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right"></td><td><a href="Pair_Programming_Overview.html" class="tocviewlink" data-pltdoc="x">Pair Programming Overview</a></td></tr><tr><td align="right"></td><td><a href="code-style.html" class="tocviewlink" data-pltdoc="x">Code style</a></td></tr><tr><td align="right"></td><td><a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Recitations.html" class="tocviewlink" data-pltdoc="x">Recitations</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="recitation1.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 1:</span> Introduction to Intelli<span class="mywbr"> &nbsp;</span>J and Simple Data Definitions</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RecitationNum">Recitation 2:</span> Working with Self-<wbr></wbr>Referential Data</a></td></tr><tr><td align="right"></td><td><a href="recitation3.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 3:</span> Methods for Complex Data</a></td></tr><tr><td align="right"></td><td><a href="recitation4.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 4:</span> Working with Abstract Classes, Problem Solving</a></td></tr><tr><td align="right"></td><td><a href="recitation5.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 5:</span> Custom Constructors and Equality</a></td></tr><tr><td align="right"></td><td><a href="recitation6.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 6:</span> Designing a simple game</a></td></tr><tr><td align="right"></td><td><a href="recitation7.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 7:</span> Parametric data and visitors</a></td></tr><tr><td align="right"></td><td><a href="recitation8.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 8:</span> Understanding Mutation</a></td></tr><tr><td align="right"></td><td><a href="recitation9.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 9:</span> Working with Cyclic Data</a></td></tr><tr><td align="right"></td><td><a href="recitation10.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 10:</span> Imperative Worlds</a></td></tr><tr><td align="right"></td><td><a href="recitation11.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 11:</span> Working with Stacks, Queues and Trees</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RecitationNum">Recitation 2:</span> Working with Self-<wbr></wbr>Referential Data</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Guided_examples%29" class="tocviewlink" data-pltdoc="x">Guided examples</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._methods-structured-data%29" class="tocviewlink" data-pltdoc="x">Methods for Structured Data</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Self-.Referential_.Data%29" class="tocviewlink" data-pltdoc="x">Self-<wbr></wbr>Referential Data</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Guided_.Examples__.Using_the_debugger%29" class="tocviewlink" data-pltdoc="x">Guided Examples:<span class="mywbr"> &nbsp;</span> Using the debugger</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Working_with_lists%29" class="tocviewlink" data-pltdoc="x">Working with lists</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Guided_examples%29" class="tocsubseclink" data-pltdoc="x">Guided examples</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Initial_scenario%29" class="tocsubseclink" data-pltdoc="x">Initial scenario</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Solution__delegation%29" class="tocsubseclink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> <span class="emph">delegation</span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._methods-structured-data%29" class="tocsubseclink" data-pltdoc="x">Methods for Structured Data</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Self-.Referential_.Data%29" class="tocsubseclink" data-pltdoc="x">Self-<wbr></wbr>Referential Data</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Guided_.Examples__.Using_the_debugger%29" class="tocsubseclink" data-pltdoc="x">Guided Examples:<span class="mywbr"> &nbsp;</span> Using the debugger</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Breaking_into_the_debugger%29" class="tocsubseclink" data-pltdoc="x">Breaking into the debugger</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Stepping_into__viewing_.Variables__thinking_about_the_stack%29" class="tocsubseclink" data-pltdoc="x">Stepping into, viewing Variables, thinking about the stack</a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#%28part._.Stepping_over__stepping_out%29" class="tocsubseclink" data-pltdoc="x">Stepping over, stepping out</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Working_with_lists%29" class="tocsubseclink" data-pltdoc="x">Working with lists</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.10</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="recitation1.html" title="backward to &quot;Recitation 1: Introduction to IntelliJ and Simple Data Definitions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Recitations.html" title="up to &quot;Recitations&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="recitation3.html" title="forward to &quot;Recitation 3: Methods for Complex Data&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._)"></a><span class="RecitationNum">Recitation 2:</span> Working with Self-Referential Data</h4><p><span style="font-weight: bold">Goals:</span> The goals of this recitation are to review data definitions and
practice designing self-referential classes and data, then design
methods for a variety of class herarchies.</p><div class="RelatedFiles"><blockquote><p class="boxed">Related files:<br/><span class="hspace">&nbsp;&nbsp;</span><a href="files/tester.jar">tester.jar</a><span class="hspace">&nbsp;&nbsp;</span> <span class="hspace">&nbsp;&nbsp;</span><a href="files/javalib.jar">javalib.jar</a><span class="hspace">&nbsp;&nbsp;</span> </p></blockquote></div><p>For this recitation, there are no <span class="emph">starter files</span>. For each problem,
start a new project and build the files from scratch.</p><h5>1<tt>&nbsp;</tt><a name="(part._.Guided_examples)"></a>Guided examples</h5><p>This section provides a guided walkthrough of translating Fundies 1-style data
definitions into Java.  If you feel confident in this, skip to
<a href="#%28part._methods-structured-data%29" data-pltdoc="x">the next section</a> below to begin this recitation&rsquo;s
exercises.</p><h5>1.1<tt>&nbsp;</tt><a name="(part._.Initial_scenario)"></a>Initial scenario</h5><p>Suppose we want to represent people and their modes of transportation, namely
bicycles and cars.  First, come up with some examples:</p><ul><li><p>Bob has a Diamondback bicycle.</p></li><li><p>Ben has a Toyota which gets 30 miles per gallon.</p></li><li><p>Becca has a Lamborghini which gets 17 miles per gallon.</p></li></ul><p>One way to represent this information is as follows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">A</span><span class="hspace">&nbsp;</span><span class="RktCmt">MOT</span><span class="hspace">&nbsp;</span><span class="RktCmt">(ModeOfTransportation)</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">one</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">--</span><span class="hspace">&nbsp;</span><span class="RktCmt">Bicycle</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">--</span><span class="hspace">&nbsp;</span><span class="RktCmt">Car</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">A</span><span class="hspace">&nbsp;</span><span class="RktCmt">Bicycle</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">(make-bicycle</span><span class="hspace">&nbsp;</span><span class="RktCmt">String)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bicycle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">brand</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">A</span><span class="hspace">&nbsp;</span><span class="RktCmt">Car</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">(make-car</span><span class="hspace">&nbsp;</span><span class="RktCmt">String</span><span class="hspace">&nbsp;</span><span class="RktCmt">Number)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">car</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mpg</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">A</span><span class="hspace">&nbsp;</span><span class="RktCmt">Person</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">(make-person</span><span class="hspace">&nbsp;</span><span class="RktCmt">String</span><span class="hspace">&nbsp;</span><span class="RktCmt">MOT)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">person</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">name</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">mot</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">diamondback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-bicycle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Diamondback"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">toyota</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-car</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Toyota"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">30</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lamborghini</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-car</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Lamborghini"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">17</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bob</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-person</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Bob"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">diamondback</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">ben</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-person</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Ben"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">toyota</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">becca</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-person</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"Becca"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lamborghini</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Following <a href="lecture2.html" data-pltdoc="x">Lecture 2</a>, we can convert these data definitions into Java:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// Represents a mode of transportation
</span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// Represents a bicycle as a mode of transportation
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Bicycle</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">brand</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Bicycle</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">brand</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">brand</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">brand</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// Represents a car as a mode of transportation
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Car</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">make</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjComment">// represents the fuel efficiency in miles per gallon
</span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Car</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">make</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">make</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">make</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mpg</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// Keeps track of how a person is transported
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Person</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mot</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Person</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mot</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">name</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mot</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mot</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Then, our examples would become the following:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ExamplesPerson</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">diamondback</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Bicycle</span><span class="ProfjKeyword">(</span><span class="ProfjString">"Diamondback"</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">toyota</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Car</span><span class="ProfjKeyword">(</span><span class="ProfjString">"Toyota"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">30</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lamborghini</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Car</span><span class="ProfjKeyword">(</span><span class="ProfjString">"Lamborghini"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">17</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Person</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">bob</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Person</span><span class="ProfjKeyword">(</span><span class="ProfjString">"Bob"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">diamondback</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Person</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">ben</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Person</span><span class="ProfjKeyword">(</span><span class="ProfjString">"Ben"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">toyota</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Person</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">becca</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Person</span><span class="ProfjKeyword">(</span><span class="ProfjString">"Becca"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lamborghini</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Now that we have our data definitions and examples, let&rsquo;s try to write a
method. Consider the following purpose statement:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// Does this person's mode of transportation meet the given fuel
</span><span class="ProfjComment">// efficiency target (in miles per gallon)?</span><span class="RktMeta"></span></td></tr></table></blockquote></div><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">How would you design a function like this in BSL?</div></p></blockquote><p>Following the same design recipe steps as always, we need a purpose statement
(given to us), a signature, some examples, and a template.  Let&rsquo;s reorder these
steps slightly, and first try to determine the template for this function,
i.e. what data this method will work on.  This will help us decide which
interface or class should contain the method&rsquo;s implementation. The wording
&ldquo;this person&rsquo;s&rdquo;suggests that this should be within the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span> class,
since it will be evaluating a person&rsquo;s method of transportation.</p><p>Next, we need to figure out the signature. A mode of transportation either
meets a target fuel efficiency or it doesn&rsquo;t, so it would make sense for this
method to return a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="RktMeta"></span></span></span>. Finally, we need to figure out this methods
parameters (or if it even needs any). In this case, the method needs to be
provided a target fuel efficiency, so one paramter <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="RktMeta"></span></span></span> should
work. So our method header will look like the following:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// In the Person class:
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">motMeetsFuelEfficiency</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Now that we have a signature and purpose, and figured out which
class this method should be in, create some examples for how this method should behave.</div></p></blockquote><p>Now it&rsquo;s time to try to implement the method, and to do that we need to work
thorugh our available template.  In doing so, we quickly
realize that we do not have enough information. The only fields inside <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span>
are <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mot</span><span class="RktMeta"></span></span></span>, neither of which can be directly compared to
the given input.</p><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Why do we not want to simply write a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getMpg</span><span class="RktMeta"></span></span></span> method on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjConstant">IMOT</span><span class="RktMeta"></span></span></span> and
its implementing classes?</div></p></blockquote><h5>1.2<tt>&nbsp;</tt><a name="(part._.Solution__delegation)"></a>Solution: <span class="emph">delegation</span></h5><p>Because <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span> doesn&rsquo;t have enough information directly available, we
need to find an available object of some other interface or class, and ask it
to finish the work for us and return to us the answer.  We call this approach
<span class="emph">delegation</span>. In this example, we would likely want to delegate the work
to the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjConstant">IMOT</span><span class="RktMeta"></span></span></span> interface because the modes of transportation are the only
ones that can truly tell us whether or not they are more fuel efficient than
the given target fuel efficiency. Luckily, the result we want from this &ldquo;wish
list&rdquo; method is the same as the return type for the method we are
writing. Also, this new method would need the same input as our current method
in order to evaluate fuel efficiency. Therefore, we could add this method
header to <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjConstant">IMOT</span><span class="RktMeta"></span></span></span>:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// in IMOT
</span><span class="ProfjComment">// returns true if this mode of transportation is at least
</span><span class="ProfjComment">// as efficient as the given mpg, false otherwise
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">isMoreFuelEfficientThan</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Now, before we actually implement this method in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Bicycle</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Car</span><span class="RktMeta"></span></span></span>,
let&rsquo;s finish the method in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span> <span class="emph">assuming</span> that our new method
will work as intended. Since we now have this method on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjConstant">IMOT</span><span class="RktMeta"></span></span></span>, we can
simply invoke the method and return the result:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// in Person
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">motMeetsFuelEfficiency</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mot</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">isMoreFuelEfficientThan</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Then, we can finish up the method in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Bicycle</span><span class="RktMeta"></span></span></span>:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// in Bicycle
</span><span class="ProfjComment">// a bicycle does not consume fuel, so it will always be more fuel efficient
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">isMoreFuelEfficientThan</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">true</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Car</span><span class="RktMeta"></span></span></span>:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// in Car
</span><span class="ProfjComment">// compare this car's fuel efficiency to the given fuel efficiency
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">isMoreFuelEfficientThan</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mpg</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&gt;=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mpg</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Write tests on our examples for a target fuel efficiency of 15 mpg. What about 25 mpg?</div></p></blockquote><blockquote class="ExerciseBody"><p><div class="SIntrapara"><p class="Exercise">Exercise</p></div><div class="SIntrapara">How would we do this if we wanted to compare to another mode of
transportation&rsquo;s fuel efficiency instead of a given target fuel efficiency?
More precisely, what if we wanted to change the method header in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span> to
the following:</div></p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">motIsMoreFuelEfficientThan</span><span class="ProfjKeyword">(</span><span class="ProfjConstant">IMOT</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mot</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Where do you get stuck?</p></blockquote><h5>2<tt>&nbsp;</tt><a name="(part._methods-structured-data)"></a>Methods for Structured Data</h5><p>Here are some unfinished classes that represent pets and pet owners:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// to represent a pet owner
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Person</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjType">IPet</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">pet</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">age</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjType">Person</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IPet</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">pet</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">age</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">name</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">pet</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">pet</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">age</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">age</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// to represent a pet
</span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IPet</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// to represent a pet cat
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Cat</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IPet</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">kind</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">longhaired</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjType">Cat</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">kind</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">longhaired</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">name</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">kind</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">kind</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">longhaired</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">longhaired</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// to represent a pet dog
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Dog</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IPet</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">kind</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">male</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjType">Dog</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">kind</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">male</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">name</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">kind</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">kind</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">        </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">male</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">male</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Follow the design recipe to design the following methods for these classes:</p><ul><li><p>Make examples of at least four pet owners - two for each
of the pets, as you need to make sure you cover the two
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="RktMeta"></span></span></span> values.</p></li><li><p>Design a method with the following purpose and header:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// is this Person older than the given Person?
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">isOlder</span><span class="ProfjKeyword">(</span><span class="ProfjType">Person</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">other</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></li><li><p>Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sameNamePet</span><span class="RktMeta"></span></span></span> that has the following purpose statement:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// does the name of this person's pet match the given name?</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>We&rsquo;ve given you the purpose statement, so start with examples and the
        template.  When you make the template for the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span>, you
        should notice that you do not know anything about the pet&rsquo;s name.  You
        will therefore need a helper method, somewhere in the class hierarchy
        that represents <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPet</span><span class="RktMeta"></span></span></span>s, that will check whether this pet&rsquo;s name
        matches the given name.</p><p>But to design such a method, you first need to define the
        purpose statements and the header in the interface <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPet</span><span class="RktMeta"></span></span></span>.
        Remember, Java requires that this method be declared <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="RktMeta"></span></span></span> - though
        at this time, for our simple programs, this designation is irrelevant.</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>We will soon learn how we can avoid the extra work.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">You then need to define this method in every class that implements
        the interface.</div></p></li><li><p>Some people do not have pets, and sometimes&ndash;sadly&ndash;the pets do
perish. Add a new class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">NoPet</span><span class="RktMeta"></span></span></span> to this class hierarchy so that we can
represent <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span>s who do not have a pet.</p><p>Make sure you add new examples!</p></li><li><p>Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">perish</span><span class="RktMeta"></span></span></span> in the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span> that produces
a person whose pet has perished.</p></li></ul><p>(To be continued below.)</p><h5>3<tt>&nbsp;</tt><a name="(part._.Self-.Referential_.Data)"></a>Self-Referential Data</h5><p><span class="emph">Note:</span> This problem is separate from the others in this recitation;
nevertheless, work on this problem before continuing with lists, below.</p><p>The sliding-tiles game
<a href="https://gabrielecirulli.github.io/2048/">2048</a> was all the rage a
couple of years ago.  The gameplay itself is not that complicated, but since we
don&rsquo;t have all the necessary skills yet, we aren&rsquo;t going to implement the full
game right now.  Instead, we&rsquo;re going to model some of the data behind the
gameplay.</p><p>Conceptually, a <span class="emph"><span class="stt">game piece</span></span> is either a <span class="emph"><span class="stt">base tile</span></span> or a
<span class="emph"><span class="stt">merge tile</span></span> that has two component tiles it merged from.  Every game
piece can tell you its <span class="emph"><span class="stt">value</span></span>, and can <span class="emph"><span class="stt">merge</span></span> with another
game piece to form a combined tile.  Assume all base tiles will have a
positive, integer value: for 2048, the default starting value is 2.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">A</span><span class="hspace">&nbsp;</span><span class="RktCmt">GamePiece</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">one</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">--</span><span class="hspace">&nbsp;</span><span class="RktCmt">(make-base-tile</span><span class="hspace">&nbsp;</span><span class="RktCmt">Number)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">--</span><span class="hspace">&nbsp;</span><span class="RktCmt">(make-merge-tile</span><span class="hspace">&nbsp;</span><span class="RktCmt">GamePiece</span><span class="hspace">&nbsp;</span><span class="RktCmt">GamePiece)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">base-tile</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">value</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">merge-tile</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">piece1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">piece2</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Convert this data definition into Java classes and interfaces. Make examples
of several merged tiles.</p><p>With the game-piece classes above, design the following:</p><ul><li><p>Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">countBaseTiles</span><span class="RktMeta"></span></span></span> that <span class="strike" style="text-decoration:line-through">tells you how much
time you've wasted playing 2048</span> returns the number of base tiles that
were used to form the current tile.</p></li><li><p>Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getValue</span><span class="RktMeta"></span></span></span> that returns the value of a game
piece.  The value of a merged tile is always the sum of the values of
its components.</p></li><li><p><div class="SIntrapara">Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">merge</span><span class="RktMeta"></span></span></span> that combines this game piece with the
given game piece to form a merged piece.  (Ignore the precise
validity-checking rules of 2048 for now; suppose that any two tiles can
be merged.)</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>We&rsquo;ll learn soon how to enforce these rules, and also how
to generalize them to variations on 2048&rsquo;s gameplay.</p></blockquote></blockquote></blockquote></div></p></li><li><p>Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">isValid</span><span class="RktMeta"></span></span></span> that checks whether this game piece was
created according to the rules of 2048: only equal-valued pieces can
merge.</p></li><li><p>Design a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">longestChain</span><span class="RktMeta"></span></span></span> that counts the length of the
longest path from the current node to any of its base tiles: in other
words, how many times any given base tile was merged into another tile
in this particular game piece&rsquo;s construction.</p></li></ul><p><span style="font-weight: bold">Note:</span> Throughout this recitation
make sure you follow the rule <span class="emph">one task &ndash; one method</span> and design each
method in the class that should be responsible for it.</p><h5>4<tt>&nbsp;</tt><a name="(part._.Guided_.Examples__.Using_the_debugger)"></a>Guided Examples: Using the debugger</h5><p>This section introduces you to working with the <span class="emph">debugger</span>, the
equivalent of the stepper in DrRacket.  The debugger is more powerful than the
stepper, and allows you to pause your program at a particular line, examine the
variables available to you, examine the call stack, and many other abilities
too.  This is necessarily a very brief introduction, and you will learn more
about the debugger over time simply by using it and experimenting with it on
your own.</p><p><span style="font-weight: bold">Note:</span> using the debugger will not help you fix <span class="emph">compile-time</span>
errors (like type-mismatches or using a name that doesn&rsquo;t exist).  It can only
help you once your program compiles but does not run correctly.  IntelliJ will
warn you that your code has compile errors before running; you should get in
the habit of fixing them, rather than ignoring the warning!
Luckily for us, IntelliJ runs the most recent code and changes made to your code,
so upon immediately fixing the compile error, we can run our current code.
Unfortunately, code is prone to bugs, and not every piece of code that runs
is successful at it&rsquo;s description.</p><h5>4.1<tt>&nbsp;</tt><a name="(part._.Breaking_into_the_debugger)"></a>Breaking into the debugger</h5><p>To use the debugger, click the green bug icon in the toolbar instead of the
green circle/triangle <span class="emph">Run</span> icon:
<img src="debug_run.png" alt="" width="57" height="25"/>
Most likely, nothing interesting happens: your program simply runs, just as it
did before.  However, let&rsquo;s suppose that your code has an error, and you&rsquo;d like
to figure out why.</p><p><div class="SIntrapara">For this example, suppose you had written the following (deliberately broken)
implementation of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getValue</span><span class="RktMeta"></span></span></span> for the definitions above:
</div><div class="SIntrapara"><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">tester</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// NOTE: Templates and purpose statements left out: You should fill them in yourself!
</span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">BaseTile</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">value</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">BaseTile</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">value</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">value</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">value</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">value</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">MergeTile</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">piece1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">piece2</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">MergeTile</span><span class="ProfjKeyword">(</span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">piece1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">piece2</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece1</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">piece1</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece1</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">piece2</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ExamplesGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">IGamePiece</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">four</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">MergeTile</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">BaseTile</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">BaseTile</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">testGetValue</span><span class="ProfjKeyword">(</span><span class="ProfjType">Tester</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">four</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">4</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div></div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">What implementation mistakes do you see in the code above?  (Ignore
the lack of purpose statements and templates: those are deliberate since we do
not intend to give you the answer here!)  Write down your predictions
<span class="emph">first</span>, before running this code.</div></p></blockquote></div></p><p><div class="SIntrapara">When you run this code, you should get a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">NullPointerException</span><span class="RktMeta"></span></span></span>, printed
in red among the console output:
<img src="error1.png" alt="" width="798" height="669"/>
The first two red lines of text tell you merely <span class="emph">that</span> a null pointer
exception occurred, and the remaining red lines of text tell you <span class="emph">where</span>
it occurred: specifically, in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getValue</span><span class="RktMeta"></span></span></span> within the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MergeTile</span><span class="RktMeta"></span></span></span> class
(on line 18), which was called by <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">testGetValue</span><span class="RktMeta"></span></span></span> within the
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ExamplesGamePiece</span><span class="RktMeta"></span></span></span> class (on line 25).  This is called the <span class="emph">stack
trace</span>, and it gives you context for where your program was at the moment it
broke: the method currently executing is at the top, and its callers are
beneath it.  (Everything after that red line is also part of the stack trace.
You can ignore anything below your own examples class, though, since those
other lines refer to internal methods that, ultimately, were invoked by
the tester library itself to get your program started.)  The file-and-line
information (orange in this screenshot; possibly blue on your system, depending
on which operating system you&rsquo;re using) is clickable, and will jump your cursor
to the appropriate line and select it.
</div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Try clicking on these links, yourself.  What happens when you click
on a link that doesn&rsquo;t belong to your own code?</div></p></blockquote></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">NullPointerException</span><span class="RktMeta"></span></span></span> is clickable too, but it controls something
else: a different kind of breakpoint besides the ones we&rsquo;ll discuss below.  If
you&rsquo;re curious, try coming back to this after you&rsquo;ve tried the other fixes
below, and try enabling this breakpoint.  You&rsquo;ll want to explore the
Breakpoints tab, too, once you&rsquo;ve done this, in order to delete this breakpoint
once you&rsquo;re done with it!</p></blockquote></blockquote></blockquote></div></p><p><div class="SIntrapara">To figure out how to debug this code, we&rsquo;re going to need to pause the code
before the problem occurs.
</div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">What line of code do you think might be useful to pause on?  Why?</div></p></blockquote></div><div class="SIntrapara">Since the problem appears on line 18, it might make sense to put a breakpoint
there.  To do so, left click on the space between the line of code and number itself:</div></p><p><img src="context_menu.png.png" alt="" width="1010" height="607"/></p><p>This will toggle a <span class="emph">breakpoint</span>. Visually, this will add a little red circle in
the margin to the right of the line number.  That signifies a <span class="emph">breakpoint</span>,
which will cause your program to pause whenever you execute your program in
debugging mode, and execution reaches that line.  You can repeat this process
to remove the breakpoint again, when you&rsquo;re done debugging the problem.</p><p>Press the Debug button to
launch your program.  You should see a <span class="emph">Debugger</span> window pop up:</p><p><img src="debug_perspective.png" alt="" width="899" height="631"/></p><p><div class="SIntrapara">There&rsquo;s a lot to see in this window, but we&rsquo;ll break it down into pieces:
</div><div class="SIntrapara"><ul><li><p><span style="font-weight: bold"><span style="color: red">Most important:</span></span> At the upper-right in the toolbar, you should see the icons for <span class="emph">Run</span>, <span class="emph">Debug</span>
and <span class="emph">Stop</span>.  (You might not see the words, just the icons.)
<img src="perspective_toolbar.png" alt="" width="154" height="30"/>
You can click <span class="emph">Stop</span> to get back to your original window layout or click <span class="emph">Ctrl + F2</span>.</p></li><li><p>In the top left of the <span class="emph">Debug</span> tab it shows you the current call stack.  You can
click on lines of the call stack to jump to the relevant line of code.  (Right
now, line 18 is focused.)</p></li><li><p>At the top left of the <span class="emph">Debug</span> window, the <span class="emph">Console</span> tab shows the current output of your program.</p></li><li><p>In the middle, the <span class="emph">Variables</span> tab shows you the variables that are
currently in scope.  Right now, the only variable available is <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span>.</p></li><li><p>On the side-left of the <span class="emph">Debug</span> toolbar, you&rsquo;ll see several icons related to
stepping:
<img src="stepping_toolbar.png" alt="" width="73" height="33"/>
From left to right, these are: <span class="emph">Resume the program</span>, <span class="emph">Pause the current
program</span>, <span class="emph">Stop debugging</span>, <span class="emph">Disconnect</span>, <span class="emph">Step into the next
method call</span>, <span class="emph">Step over the next method call</span>, and <span class="emph">Step
out of the current method</span>.  You can ignore <span class="emph">Disconnect</span> entirely; the others will be useful.</p></li></ul></div></p><h5>4.2<tt>&nbsp;</tt><a name="(part._.Stepping_into__viewing_.Variables__thinking_about_the_stack)"></a>Stepping into, viewing Variables, thinking about the stack</h5><p><div class="SIntrapara">In the code area, if you hover your mouse over a variable, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span>, or a
field, you should get a popup showing you the value of that variable, similar
to the Variables tab in the upper right.
</div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Double-click on <span class="stt">this</span> in the Variables tab, or click on the
expansion arrow to its left, to see the fields that it has.  Also try hovering
over <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span>, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece1</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece2</span><span class="RktMeta"></span></span></span> in the code area.
What do you see?</div></p></blockquote></div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Can you figure out the first bug in the code above?</div></p></blockquote></div><div class="SIntrapara">Evidently, the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece2</span><span class="RktMeta"></span></span></span> field is still <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">null</span><span class="RktMeta"></span></span></span>, and so it seems
likely that trying to invoke <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> cannot succeed.  We
don&rsquo;t yet know for sure that this is the problem, so let&rsquo;s <span class="emph">step into the
program</span> and see what happens.</div></p><p><div class="SIntrapara">Click the <span class="emph">Step into</span> toolbar button. (There is also a keyboard shortcut for
this: on my machine, it is <span class="RktSym">F5</span><span class="RktMeta"></span>.  Hover over the toolbar button and the tooltip
will tell you (in parentheses) what the hotkey is.)
</div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">List all the changes that just happened.</div></p></blockquote></div><div class="SIntrapara">You should see: the stack trace in the Debug tab has added a new line for the
current <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getValue</span><span class="RktMeta"></span></span></span> call; the highlighted line of code has changed to line
9 (in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">BaseTile</span><span class="RktMeta"></span></span></span>); the Variables tab has changed to show that <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span>
is currently a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">BaseTile</span><span class="RktMeta"></span></span></span>; the Outline tab has highlighted the
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">BaseTile</span><span class="RktMeta"></span></span></span> class.</div></p><p>Hover over <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">value</span><span class="RktMeta"></span></span></span> in the code area.  You should see
that the values look fine.  Press any of the stepper buttons once to continue.
(In this setting, all three stepper buttons do the same thing, since we are at
the point of returning from a method, so there is nothing to step into or
over. Don&rsquo;t use the <span class="emph">Resume</span> button here; that will run your program until it
encounters the next breakpoint, and there might not be any more breakpoints.)
The active line moves back to line 18.  Evidently, the call to
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> has succeeded.  Press Step into again, to try the
next call to <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>.  Suddenly
everything breaks, and you&rsquo;re taken to the constructor for a
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">NullPointerException</span><span class="RktMeta"></span></span></span>.  Suspicion confirmed: the fact that <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">piece2</span><span class="RktMeta"></span></span></span>
is <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">null</span><span class="RktMeta"></span></span></span> is the problem.</p><p><div class="SIntrapara">Press the red <span class="emph">Stop</span> button to end the debugging session.  What to do now?
Evidently the problem appeared at line 18, but the actual mistake must have
occurred much earlier.  Looking at the stack trace, perhaps we should put a breakpoint
on line 25 (since that was the caller of line 18), and debug the program again.
</div><div class="SIntrapara"><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Will this help?  Why or why not?</div></p></blockquote></div><div class="SIntrapara">Nothing much interesting is happening on line 25: it&rsquo;s just calling
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">four</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>.  The mistake must have occurred even before that &ndash; and
the only other line of code we have in our examples class is line 23.  But that
line of code isn&rsquo;t inside a method; it&rsquo;s a field declaration.  Putting a
breakpoint there won&rsquo;t work.  Instead, let&rsquo;s put a breakpoint inside each of
our tiles&rsquo; constructors, on lines 8 and 14.</div></p><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Debug the program.  When you get to line 14, double-click the
<span class="stt">this</span> in the Variables tab.  Press Step into once, and observe the changes
in the Variables tab.  What line gets highlighted yellow?  Press Step into once
more.  What happens?</div></p></blockquote><p>Since <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">piece2</span><span class="RktMeta"></span></span></span> remains <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">null</span><span class="RktMeta"></span></span></span>, evidently our mistake must be here.
Carefully reading the code reveals the typo: we initialized <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">piece1</span><span class="RktMeta"></span></span></span> twice
by mistake.</p><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Press <span class="emph">Stop</span> to stop the program.  Fix the code, and debug it again.
This time, when you get to line 14, press the <span class="emph">Resume</span> button to keep running
after the breakpoint.  What happens now?</div></p></blockquote><h5>4.3<tt>&nbsp;</tt><a name="(part._.Stepping_over__stepping_out)"></a>Stepping over, stepping out</h5><p>We have another problem: the tester library reports <span class="emph">stack overflowed while running test</span>.  This
means that we have an unbounded recursion somewhere in our program.  Looking at
the stack trace (be sure to scroll to the very top) is quite boring: it
consists of hundreds of red lines all blaming line 18 of our program.</p><blockquote class="IncerciseBody"><p><div class="SIntrapara"><p class="Incercise">Do Now!</p></div><div class="SIntrapara">Clear all the breakpoints you currently have, and put a breakpoint
on line 18 again.  Debug the program.</div></p></blockquote><p>When you get to line 18, start stepping through the program again.  Using <span class="emph">Step
into</span> is tedious, since it will take us into the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">BaseTile</span><span class="RktMeta"></span></span></span>
implementations.  Using the other two stepper buttons doesn&rsquo;t seem to work.
This is because we have three method calls all on one line, and IntelliJ is
quite simplistic when it comes breakpoints and to your program&rsquo;s layout.  Add
newlines before the plus signs on line 18, to split the three method calls onto
three separate lines.  Now, you can successfully use Step over to run the
entirety of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> as a single step, and similarly for
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">piece2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>.  Now use Step into to step into the call to
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>.  The stack trace in the Debug tab has grown, and
nothing else has changed.  Keep doing this a few times, until you recognize the
problem: we are recurring into the exact same method on the exact same object
&ndash; of course we&rsquo;re stuck in an infinite recursion!  This implementation does
not properly follow the template: fix it, by eliminating the call to
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getValue</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> altogether, since it&rsquo;s unneeded.</p><p>Stop and then debug the program one more time, to confirm that it works
properly.  Finally, click on Java in the upper-right toolbar to get back to the
normal code-editing window layout.</p><h5>5<tt>&nbsp;</tt><a name="(part._.Working_with_lists)"></a>Working with lists</h5><p>Start a new project and copy into it all the files you have already defined for
the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span>s and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPet</span><span class="RktMeta"></span></span></span>s. Add the necessary class and interface
definitions so that a person may have more than one pet.</p><p>Draw the class diagram for the entire collection of classes and interfaces.</p><p>Now that <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span>s can have more than one <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPet</span><span class="RktMeta"></span></span></span>, we can&rsquo;t simply ask
whether their pet has the same name as the given one; we instead need to ask
whether a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span> <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">hasPetNamed</span><span class="RktMeta"></span></span></span> some given name, which then
determines whether the person has a pet with the given name.</p><p>This might not be a small change... Make sure you change all that is needed,
including adding templates wherever necessary, changing the test cases, etc.</p><p>Now that <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Person</span><span class="RktMeta"></span></span></span>s can have lists of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPet</span><span class="RktMeta"></span></span></span>s, they can easily have an
empty list of pets.  So we no longer need the class <span class="stt">NoPet</span> to mark not
having a pet.  Get rid of this class.</p><p>Also, for now just eliminate the method <span class="stt">perish</span>.</p><blockquote class="ExerciseBody"><p><div class="SIntrapara"><p class="Exercise">Exercise</p></div><div class="SIntrapara">Handling pets that <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">perish</span><span class="RktMeta"></span></span></span> is tricky: we can&rsquo;t just replace
them with <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">NoPet</span><span class="RktMeta"></span></span></span>, or with <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoPet</span><span class="RktMeta"></span></span></span>, since there might be other
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPet</span><span class="RktMeta"></span></span></span>s remaining.  To modify the method so it can work with a list of
pets would require removing the pet with the given name from the list of pets
this person owns.  Try to do this.  (Hint: you&rsquo;ll need one or more helper
methods.)</div></p></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="recitation1.html" title="backward to &quot;Recitation 1: Introduction to IntelliJ and Simple Data Definitions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Recitations.html" title="up to &quot;Recitations&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="recitation3.html" title="forward to &quot;Recitation 3: Methods for Complex Data&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>