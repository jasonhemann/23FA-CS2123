<!doctype HTML>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="codemirror.js"></script>
<script src="runmode.js"></script>
<script src="setup-page.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Assignment 5: A Game, Visitors</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CSAS-<wbr></wbr>2123
<br/>
Introduction to Object-<wbr></wbr>Oriented Design</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="General.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="Lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="Recitations.html" class="tocviewlink" data-pltdoc="x">Recitations</a></td></tr><tr><td align="right"></td><td><a href="Assignments.html" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right"></td><td><a href="Pair_Programming_Overview.html" class="tocviewlink" data-pltdoc="x">Pair Programming Overview</a></td></tr><tr><td align="right"></td><td><a href="code-style.html" class="tocviewlink" data-pltdoc="x">Code style</a></td></tr><tr><td align="right"></td><td><a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="assignment1.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 1:</span> Designing complex data</a></td></tr><tr><td align="right"></td><td><a href="assignment2.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 2:</span> Designing methods for complex data</a></td></tr><tr><td align="right"></td><td><a href="assignment3.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 3:</span> Designing methods for complex data; Practice with accumulators</a></td></tr><tr><td align="right"></td><td><a href="assignment4.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 4:</span> Constructors; Structural Equality; Non-<wbr></wbr>structural Equality</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="AssignmentNum">Assignment 5:</span> A Game, Visitors</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="AssignmentNum">Assignment 5:</span> A Game, Visitors</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._.Instructions%29" class="tocviewlink" data-pltdoc="x">Instructions</a></td></tr><tr><td align="right"></td><td><a href="#%28part._.Practice_.Problems%29" class="tocviewlink" data-pltdoc="x">Practice Problems</a></td></tr><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Problem_1_---_.N_.Bullets%29" class="tocviewlink" data-pltdoc="x">Problem 1 &#8212;<wbr></wbr> N Bullets</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Problem_2_---_.Courses_and_.Prereqs%29" class="tocviewlink" data-pltdoc="x">Problem 2 &#8212;<wbr></wbr> Courses and Prereqs</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Instructions%29" class="tocsubseclink" data-pltdoc="x">Instructions</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Practice_.Problems%29" class="tocsubseclink" data-pltdoc="x">Practice Problems</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Problem_1_---_.N_.Bullets%29" class="tocsubseclink" data-pltdoc="x">Problem 1 &#8212;<wbr></wbr> N Bullets</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Visual_.Clarification%29" class="tocsubseclink" data-pltdoc="x">Visual Clarification</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Submission_format%29" class="tocsubseclink" data-pltdoc="x">Submission format</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.World_requirements%29" class="tocsubseclink" data-pltdoc="x">World requirements</a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.Ships%29" class="tocsubseclink" data-pltdoc="x">Ships</a></td></tr><tr><td><span class="tocsublinknumber">1.5<tt>&nbsp;</tt></span><a href="#%28part._.Bullets%29" class="tocsubseclink" data-pltdoc="x">Bullets</a></td></tr><tr><td><span class="tocsublinknumber">1.6<tt>&nbsp;</tt></span><a href="#%28part._.Java_and_math%29" class="tocsubseclink" data-pltdoc="x">Java and math</a></td></tr><tr><td><span class="tocsublinknumber">1.7<tt>&nbsp;</tt></span><a href="#%28part._.Tick-tock_.On_.The_.Clock%29" class="tocsubseclink" data-pltdoc="x">Tick-<wbr></wbr>tock On The Clock</a></td></tr><tr><td><span class="tocsublinknumber">1.8<tt>&nbsp;</tt></span><a href="#%28part._.To_.I.List_or_.I.Lo_%29" class="tocsubseclink" data-pltdoc="x">To IList or ILo?</a></td></tr><tr><td><span class="tocsublinknumber">1.9<tt>&nbsp;</tt></span><a href="#%28part._.Local_variables%29" class="tocsubseclink" data-pltdoc="x">Local variables</a></td></tr><tr><td><span class="tocsublinknumber">1.10<tt>&nbsp;</tt></span><a href="#%28part._.A_note_about_randomness%29" class="tocsubseclink" data-pltdoc="x">A note about randomness</a></td></tr><tr><td><span class="tocsublinknumber">1.11<tt>&nbsp;</tt></span><a href="#%28part._.Suggested_constants%29" class="tocsubseclink" data-pltdoc="x">Suggested constants</a></td></tr><tr><td><span class="tocsublinknumber">1.12<tt>&nbsp;</tt></span><a href="#%28part._.Yikes__.This_.Sure_.Is_.A_.Lot_%29" class="tocsubseclink" data-pltdoc="x">Yikes, This Sure Is A Lot!</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Problem_2_---_.Courses_and_.Prereqs%29" class="tocsubseclink" data-pltdoc="x">Problem 2 &#8212;<wbr></wbr> Courses and Prereqs</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Extra_.Credit__.Ormap%29" class="tocsubseclink" data-pltdoc="x">Extra Credit:<span class="mywbr"> &nbsp;</span> Ormap</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.10</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignment4.html" title="backward to &quot;Assignment 4: Constructors; Structural Equality; Non-structural Equality&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Pair_Programming_Overview.html" title="forward to &quot;Pair Programming Overview&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._)"></a><span class="AssignmentNum">Assignment 5:</span> A Game, Visitors</h4><p><span style="font-weight: bold">Goals:</span> Design a game; implement generics and visitors.</p><h5><a name="(part._.Instructions)"></a>Instructions</h5><p>This assignment is long.  Start early.</p><p><div class="SIntrapara"><span style="font-weight: bold">Be very, very careful with naming!</span>  Again, the solution files expect your submissions to
be named a certain way, so that they can define their own <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Examples</span><span class="RktMeta"></span></span></span> class with which
to test your code.  Therefore, whenever the assignment specifies:
</div><div class="SIntrapara"><ul><li><p>the names of classes,</p></li><li><p>the names and types of the fields within classes,</p></li><li><p>the names, types and order of the arguments to the constructor,</p></li><li><p>the names, types and order of arguments to methods, or</p></li><li><p>filenames,</p></li></ul></div><div class="SIntrapara">...be sure that your submission uses exactly those names.</div></p><p>Make sure you follow the style guidelines that we enforce. For now the most
important ones are: using spaces instead of tabs, indenting by 4 characters, following
the naming conventions (data type names start with a capital letter, names of fields
and methods start with a lower case letter), and having spaces before curly braces.</p><p>You will submit this assignment by the deadline using the online submission system.
You may submit as many times as you wish. Be aware of the fact that close to the
deadline the system may slow down to handle many submissions - so try to finish early.</p><p>There will be a separate submission for each problem - it makes it easier to grade each problem,
and to provide you with feedback for each problem you work on.</p><p>The submissions will be organized as follows:</p><ul><li><p><span style="font-weight: bold">Homework 5 Problem 1:</span> Your game implementation</p></li><li><p><span style="font-weight: bold">Homework 5 Problem 2:</span> The <span class="stt">Course.java</span> file</p></li></ul><p><div class="SIntrapara"><span style="font-weight: bold">Due Date:</span>
</div><div class="SIntrapara"><ul><li><p>Problem 1: November 8th, 10:00pm</p></li><li><p>Problem 2: November 8th, 10:00pm</p></li></ul></div></p><h5><a name="(part._.Practice_.Problems)"></a>Practice Problems</h5><p>Work out these problems on your own. Save them in an electronic portfolio, so you can
show them to your instructor, review them before the exam, use them as a reference
when working on the homework assignments.</p><ul><li><p>Problem 20.2 on page 296</p></li><li><p>Problem 20.8 on page 306</p></li><li><p>Problem 20.9 on page 306</p></li><li><p>Problem 21.1 on page 312</p></li><li><p>Problem 21.3 on page 312</p></li><li><p>Problem 21.4 on page 315</p></li><li><p>Problem 21.5 on page 320</p></li><li><p>Problem 21.6 on page 320</p></li><li><p>Problem 21.7 on page 320</p></li></ul><h5>1<tt>&nbsp;</tt><a name="(part._.Problem_1_---_.N_.Bullets)"></a>Problem 1 &#8212;<wbr></wbr> N Bullets</h5><p>You are going to design a game called N Bullets, based on the game
<a href="https://www.crazygames.com/game/10-bullets-html-5">10 Bullets</a>.</p><p>N Bullets is a game in which ships fly across the screen and the player shoots
bullets at them from the center of the bottom of the screen. When a bullet and ship
collide, both are instantly destroyed. The bullet, however, is replaced by a group of
bullets that fly out to hit other ships. The game ends when the player run out of bullets
and no more bullets are on screen.</p><p>Your game will use the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">javalib</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">funworld</span><span class="RktMeta"></span></span></span> library, which provides an
implementation of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">World</span><span class="RktMeta"></span></span></span>s and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">bigBang</span><span class="RktMeta"></span></span></span> similar to what was used in
1114.  Read <a href="image-doc.html#%28part._.Worlds%29" data-pltdoc="x">the documentation</a> carefully for more information.</p><h5>1.1<tt>&nbsp;</tt><a name="(part._.Visual_.Clarification)"></a>Visual Clarification</h5><p>To get a better idea of what we are looking for, watch
<a href="https://vimeo.com/879854582">this</a> gameplay video; it&rsquo;s
our implementation of the game</p><h5>1.2<tt>&nbsp;</tt><a name="(part._.Submission_format)"></a>Submission format</h5><p>You may find it overwhelming to keep all of your code within one file. To make your code
more managable, you may submit a zip archive for this assignment instead of a single file.
If you are more comfortable submitting as a single file, though, that is also fine.</p><h5>1.3<tt>&nbsp;</tt><a name="(part._.World_requirements)"></a>World requirements</h5><ul><li><p>Your world must have a constructor that just takes an integer, which represents the number of bullets
a player has to shoot. That is how your graders will launch your world.</p></li><li><p>Your game must end when there are no more bullets to fire <span style="font-weight: bold">and</span> there are no bullets
left on the screen.</p></li><li><p>So long as there are bullets left to fire, the player should be able to press the space bar
to fire a bullet from the center of the bottom of the screen.</p></li><li><p>As well as the bullets and the ships, the player must also be able to see
how many bullets are left and how many ships have been destroyed so far.</p></li></ul><h5>1.4<tt>&nbsp;</tt><a name="(part._.Ships)"></a>Ships</h5><ul><li><p>Ships should not spawn at every tick. Ships should spawn with some fixed frequency,
and a non-zero, random amount of them should spawn at the same time.</p></li><li><p>Ships should spawn at either the left or right ends of the screen, and then move
across the screen.</p></li><li><p>Ships should not be able to spawn at the very top or very bottom of the screen,
but their spawn point along the y-axis should be random.</p></li><li><p>Two or more identical ships spawning at the same time is fine.</p></li><li><p>Ships should move with what appears to be smooth motion, and move in a straight line across
the screen.</p></li><li><p>All ships should have the same speed (the magnitude of their velocity).</p></li><li><p>Ships that have flown past the edge of the screen should be removed from the game.</p></li><li><p>Ships should be visually represented as a circle with a fixed color and radius.</p></li><li><p>When a ship is hit by a bullet, it disappears.</p></li><li><p>If a bullet hits two or more ships simultaneously, all of the ships should disappear.</p></li><li><p>Ships should not fly over (or under) the bullet left/ships destroyed info.</p></li></ul><h5>1.5<tt>&nbsp;</tt><a name="(part._.Bullets)"></a>Bullets</h5><ul><li><p>Bullets should move with what appears to be smooth motion, and move in a straight line across
the screen.</p></li><li><p>All bullets should have the same speed (the magnitude of their velocity). It is fine if
bullet speeds vary slightly due to rounding.</p></li><li><p>Bullets that have flown past the edge of the screen should be removed from the game.</p></li><li><p>Bullets should be visually represented as a circle with a fixed color; their size
is discussed below.</p></li><li><p>When a bullet collides with a ship, it disappears and "explodes" into many bullets.
The initial position of all of them should be the same as that of the destroyed bullet.</p></li><li><p>When a bullet a player fired hits a ship, it should explode into two bullets. When one of those
bullets hits a ship, it should explode into three bullets, etc.</p></li><li><p>In the <span style="font-style: italic">n</span>th explosion (where <span style="font-style: italic">n</span> is 1 in the explosion of the player-fired bullet),
for each bullet <span style="font-style: italic">i</span> it explodes into, <span style="font-style: italic"></span>0<span style="font-style: italic"> &lt;= i &lt;= n</span>, the bullet should fire off at <span style="font-style: italic">i * </span>(<span style="font-style: italic"></span>3<span style="font-style: italic"></span>6<span style="font-style: italic"></span>0<span style="font-style: italic"> / </span>(<span style="font-style: italic">n + </span>1<span style="font-style: italic"></span>)<span style="font-style: italic"></span>)<span style="font-style: italic"></span>
<span style="font-weight: bold">degrees</span>.</p></li><li><p>Bullets should grow in size along with <span style="font-style: italic">n</span>, so the higher up in the chain of explosions
the bullet originated from, the bigger it should be. It should stop growing after some explosion, however,
so it doesn&rsquo;t take up too much of the screen.</p></li><li><p>If two or more bullets hit the same ship simultaneously, all of the bullets should explode.</p></li><li><p>Bullets may fly over (or under) the bullet left/ships destroyed info</p></li></ul><h5>1.6<tt>&nbsp;</tt><a name="(part._.Java_and_math)"></a>Java and math</h5><ul><li><p>When computing the distance from one point to another, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Math</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">hypot</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">x</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">y</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>
will likely help.</p></li><li><p>When computing the x and y components of the bullet&rsquo;s velocity, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Math</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">cos</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">theta</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>,
 and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Math</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sin</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">theta</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> will likely help. This <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">theta</span><span class="RktMeta"></span></span></span> is measured in <span style="font-weight: bold">radians</span>,
and there are <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">2</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">*</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Math</span><span class="ProfjDefault">.</span><span class="ProfjConstant">PI</span><span class="RktMeta"></span></span></span> radians in a circle.</p></li></ul><h5>1.7<tt>&nbsp;</tt><a name="(part._.Tick-tock_.On_.The_.Clock)"></a>Tick-tock On The Clock</h5><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This style of programming is called a
<a href="https://en.wikipedia.org/wiki/Fluent_interface">fluent interface</a>.</p></blockquote></blockquote></blockquote><p>As you may have noticed, a lot has to happen in one tick (bullets and ships have to move,
collisions need to be handled, ships may be spawned, etc.). To make this manageable,
we recommend you design methods that use the current (<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span>) world and produce a new
world, where <span style="font-weight: bold">one</span> of those steps have been taken, and a new world is returned.
You can then chain those together to in your <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">onTick</span><span class="RktMeta"></span></span></span> method. Using this methodology,
it should look something like this (with much better naming, of course):</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// advance the world by one tick: do step one, then step two, then step three,
</span><span class="ProfjComment">// and then step four
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">MyTowerDefenseClass</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">onTick</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">   </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">doStepOne</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">       </span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">doStepTwo</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">       </span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">doStepThree</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">       </span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">doStepFour</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>An added benefit of designing this collection of methods is, of course, the
ability to test each step of your code independently.</p><p>As a note of caution, beware that you&rsquo;re calling dependent operations in the
right order. For example, the order in which you choose to remove off-screen components
 and handle ship/bullet collisions could affect the
results of the game.</p><h5>1.8<tt>&nbsp;</tt><a name="(part._.To_.I.List_or_.I.Lo_)"></a>To IList or ILo?</h5><p>It is up to you whether or not you want to use the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> interface we have recently
covered or the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILo</span><span class="ProfjKeyword">*</span><span class="RktMeta"></span></span></span> pattern from earlier in the course. The former has the advantage
of being able to write and re-use abstractions like <span class="RktSym">foldr</span>, <span class="RktSym">map</span>, <span class="RktSym">filter</span>, etc.
easily, while the latter has the advantage of not having to write many function objects.</p><h5>1.9<tt>&nbsp;</tt><a name="(part._.Local_variables)"></a>Local variables</h5><p>You will almost certainly want to use local variables for this assignment.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Be cautious, because
some programms use local variables as an excuse for not using helper methods. Remember, one task
per method.</p></blockquote></blockquote></blockquote><p>Let&rsquo;s say we were computing the average of a list, and returning 0 if the list was empty:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">average</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">length</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">==</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sum</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">length</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>The problem, of course, is the length is being computed twice. One way to get around
this would be to use a helper method:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">average</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">averageHelper</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">length</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">averageHelper</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">length</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">length</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">==</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sum</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">length</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Why did the programmer choose to compute the sum in the helper and not in the outer
method and pass it to the helper?</p></blockquote></blockquote></blockquote><p>This is fairly verbose for such a simple operation, however. Instead, we can use a local variable:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">average</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">length</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">length</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">length</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">==</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sum</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">length</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This local variable could have been called something besides <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">length</span><span class="RktMeta"></span></span></span>.</p></blockquote></blockquote></blockquote><p>As in ISL, local variables should be used to avoid duplicate computation, clarify what expressions
mean, and contain simple computations another method wouldn&rsquo;t need to use. Proper usage of local
variables, also like in ISL, is a judgement call.</p><h5>1.10<tt>&nbsp;</tt><a name="(part._.A_note_about_randomness)"></a>A note about randomness</h5><p>There are two ways to generate random numbers in Java.  The easiest is to
use <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Math</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">random</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>, which generates a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">double</span><span class="RktMeta"></span></span></span> between 0 (inclusive)
and 1 (exclusive).  You can multiply this number by some integer to make it
bigger, then coerce to an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">int</span><span class="RktMeta"></span></span></span> to produce a random integer in the range you
wish.  However, this is not easily testable: you&rsquo;ll get different random values
every time.</p><p>The better way to generate random numbers is: First, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">java</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">util</span><span class="ProfjDefault">.</span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span> at the top of your file.  Next, create a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Random</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>
object, and use its <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">nextInt</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">maxVal</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method, which will give you a
random integer between zero (inclusive) and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">maxVal</span><span class="RktMeta"></span></span></span> (exclusive).</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This is known as a "pseudorandom number generator", since the
numbers aren&rsquo;t really random if they can be reliably repeated...</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">The reason this is better is because there is a second constructor, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Random</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">initialSeed</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>, which has the property that every time you create a
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span> with the same initial seed, it will generate the same "random"
numbers in the same order every time your program runs.  You should therefore
design your world classes with two constructors:</div></p><ul><li><p>One of them, to be used for testing, should take in a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span>
object whose seed value you specify.  This way your game will be utterly
predictable every single time you test it.</p></li><li><p>The second constructor should <span class="emph">not</span> take in a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span> object,
but should call the other constructor, and pass along a really random object:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">java</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">util</span><span class="ProfjDefault">.</span><span class="ProfjType">Random</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">YourWorld</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">Random</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">rand</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// The constructor for use in "real" games
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">YourWorld</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Random</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// The constructor for use in testing, with a specified Random object
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">YourWorld</span><span class="ProfjKeyword">(</span><span class="ProfjType">Random</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">rand</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rand</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">rand</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>Now, your tests can be predictable while your game can still be random, and the
rest of your code doesn&rsquo;t need to change at all.</p></li></ul><h5>1.11<tt>&nbsp;</tt><a name="(part._.Suggested_constants)"></a>Suggested constants</h5><p>While you are welcome to tweak the game to create gameplay you enjoy (so long as you adhere to
all of the above specifications),
here are the constants we used that we know will generate decent gameplay (as seen in the previously
linked video):</p><ul><li><p>Screen width: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">500</span><span class="RktMeta"></span></span></span> pixels</p></li><li><p>Screen height: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">300</span><span class="RktMeta"></span></span></span> pixels</p></li><li><p>Tick rate: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">1.0</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">28.0</span><span class="RktMeta"></span></span></span> seconds per frame.</p></li><li><p>Ship spawn frequency: every <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">1</span><span class="RktMeta"></span></span></span> <span class="emph">seconds</span></p></li><li><p>Number of ships to spawn: between <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">1</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">3</span><span class="RktMeta"></span></span></span> inclusive, uniform distribution</p></li><li><p>Initial bullet radius: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">2</span><span class="RktMeta"></span></span></span> pixels</p></li><li><p>Radius of bullet after an explosion: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">2</span><span class="RktMeta"></span></span></span> pixels larger than radius of the past one</p></li><li><p>Maximum bullet radius: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">10</span><span class="RktMeta"></span></span></span> pixels</p></li><li><p>Bullet color: pink</p></li><li><p>Bullet speed: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">8</span><span class="RktMeta"></span></span></span> pixels/tick</p></li><li><p>Ship radius <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">1</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">30</span><span class="RktMeta"></span></span></span> the screen height</p></li><li><p>Ship color: cyan</p></li><li><p>Ship speed: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">1</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">2</span><span class="RktMeta"></span></span></span> the bullet speed</p></li><li><p>Where ships can spawn: Not in the top or bottom seventh of the screen</p></li><li><p>Font color: black</p></li><li><p>Font size: <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">13</span><span class="RktMeta"></span></span></span></p></li></ul><h5>1.12<tt>&nbsp;</tt><a name="(part._.Yikes__.This_.Sure_.Is_.A_.Lot_)"></a>Yikes, This Sure Is A Lot!</h5><p>Yes, it is, but don&rsquo;t worry, you can do it. A big part of being able to succeed with this assignment
is to keep track of what data represents what, how to organize it, and what you will need to do with it.
As always, sticking to the design recipe and fleshing out your wishlist in advance is the best way to
go about handling daunting programs. To help you out, we&rsquo;ve <span class="emph">started</span> an informal wishlist of tasks
your program must be able to do:</p><ul><li><p>Determine when a single game piece has come into contact with any of a list of game pieces</p></li><li><p>Move a list of game pieces from their current position to their next positions</p></li><li><p>Remove game pieces that have left the screen</p></li></ul><p>All of these directly imply that your program also needs to do the following:</p><ul><li><p>Determine when a single game piece has come into contact with another game piece</p></li><li><p>Move a single game piece from its current position to its next position</p></li><li><p>Determine when a game has left the screen</p></li></ul><p>To begin, we recommend fleshing out this wishlist and storing it somewhere you can easily access,
and determing which classes each task should belong to. Then, you can add the method stubs to each of the classes,
and write examples and tests before you begin to program. Give each method its own test function, and comment
them out. As you implement each method, you can uncomment that method&rsquo;s test function, and that way
you can test the whole program as you go.</p><h5>2<tt>&nbsp;</tt><a name="(part._.Problem_2_---_.Courses_and_.Prereqs)"></a>Problem 2 &#8212;<wbr></wbr> Courses and Prereqs</h5><p>A <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="RktMeta"></span></span></span> has a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">name</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">prereqs</span><span class="RktMeta"></span></span></span>, which is an
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">Course</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> (see <a href="lecture15.html" data-pltdoc="x">Lecture 15</a> for the data definition of
parametrized lists).</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Notation:</span> When you see notation of the form <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ClassName</span><span class="ProfjError">#</span><span class="ProfjIdentifier">methodName</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>,
it means <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">methodName</span><span class="RktMeta"></span></span></span> is a method defined in the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ClassName</span><span class="RktMeta"></span></span></span>,
and the arguments are left for you to determine.
For example, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="ProfjError">#</span><span class="ProfjIdentifier">substring</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>.</p></blockquote></blockquote></blockquote><ul><li><p>Design the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="RktMeta"></span></span></span> class and any other necessary classes and interfaces.</p></li><li><p>Create the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IFunc</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">A</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">R</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> interface, which has one method:
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">R</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">apply</span><span class="ProfjKeyword">(</span><span class="ProfjType">A</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">arg</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></span></span> as shown in class.</p></li><li><p>Implement the visitor pattern for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span>s. Your <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IListVisitor</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">R</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span>
interface should <span class="emph">be</span> a function, meaning it should <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">extend</span><span class="RktMeta"></span></span></span> the
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IFunc</span><span class="RktMeta"></span></span></span> interface &#8212;<wbr></wbr> think carefully what types should be given to
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IFunc</span><span class="ProfjKeyword">&lt;</span><span class="ProfjKeyword">?</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">?</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> to make this work correctly...</p></li><li><p>Design a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">DeepestPathLength</span><span class="RktMeta"></span></span></span> class, which is a function object that takes a
 <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="RktMeta"></span></span></span>. This should be used in a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="ProfjError">#</span><span class="ProfjIdentifier">getDeepestPathLength</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method, which
 computes the length of the longest path from this course to a course with no
 prerequisites. You must use the visitor pattern where appropriate. Calling the
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="ProfjError">#</span><span class="ProfjIdentifier">getDeepestPathLength</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method on a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="RktMeta"></span></span></span> should
produce the same value as applying a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">DeepestPathLength</span><span class="RktMeta"></span></span></span> object to it.</p></li><li><p>Design the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPred</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">X</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> interface, which <span class="emph">is</span> an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IFunc</span><span class="RktMeta"></span></span></span> that always
returns a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Boolean</span><span class="RktMeta"></span></span></span>.</p></li><li><p>Design a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">HasPrereq</span><span class="RktMeta"></span></span></span> class, which is an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPred</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">Course</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span>
This should be used in a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="ProfjError">#</span><span class="ProfjIdentifier">hasPrereq</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method, which
determines if a course has <span class="emph">a prereq</span> (either an immediate one or a prereq of a
prereq) whose <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">name</span><span class="RktMeta"></span></span></span> is the same as a given string.  Think carefully
about the constructor for this class. You must use the visitor pattern when
appropriate. Calling the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="ProfjError">#</span><span class="ProfjIdentifier">hasPrereq</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method on a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Course</span><span class="RktMeta"></span></span></span> should
produce the same value as applying a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">HasPrereq</span><span class="RktMeta"></span></span></span> object to it (given that they are both
looking for the same name).</p></li></ul><h5>2.1<tt>&nbsp;</tt><a name="(part._.Extra_.Credit__.Ormap)"></a>Extra Credit: Ormap</h5><ul><li><p>For extra credit, design the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Ormap</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> class, which is a list visitor that operates as
<span class="RktSym">ormap</span> did in ISL. Think carefully about the constructor for this class.</p></li><li><p>Re-implement the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">HasPrereq</span><span class="RktMeta"></span></span></span> class, using <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Ormap</span><span class="RktMeta"></span></span></span> whenever appropriate</p></li></ul><p>If you plan on doing the extra credit, your submission to the handin
server should either totally complete the above two items or not. Your
graders will only grade one version of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">HasPrereq</span><span class="RktMeta"></span></span></span>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignment4.html" title="backward to &quot;Assignment 4: Constructors; Structural Equality; Non-structural Equality&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Pair_Programming_Overview.html" title="forward to &quot;Pair Programming Overview&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>