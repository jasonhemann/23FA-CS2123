<!doctype HTML>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="codemirror.js"></script>
<script src="runmode.js"></script>
<script src="setup-page.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Recitation 10: Imperative Worlds</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CSAS-<wbr></wbr>2123
<br/>
Introduction to Object-<wbr></wbr>Oriented Design</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="General.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="Lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="Recitations.html" class="tocviewselflink" data-pltdoc="x">Recitations</a></td></tr><tr><td align="right"></td><td><a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right"></td><td><a href="Pair_Programming_Overview.html" class="tocviewlink" data-pltdoc="x">Pair Programming Overview</a></td></tr><tr><td align="right"></td><td><a href="code-style.html" class="tocviewlink" data-pltdoc="x">Code style</a></td></tr><tr><td align="right"></td><td><a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Recitations.html" class="tocviewlink" data-pltdoc="x">Recitations</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="recitation1.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 1:</span> Introduction to Intelli<span class="mywbr"> &nbsp;</span>J and Simple Data Definitions</a></td></tr><tr><td align="right"></td><td><a href="recitation2.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 2:</span> Working with Self-<wbr></wbr>Referential Data</a></td></tr><tr><td align="right"></td><td><a href="recitation3.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 3:</span> Methods for Complex Data</a></td></tr><tr><td align="right"></td><td><a href="recitation4.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 4:</span> Working with Abstract Classes, Problem Solving</a></td></tr><tr><td align="right"></td><td><a href="recitation5.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 5:</span> Custom Constructors and Equality</a></td></tr><tr><td align="right"></td><td><a href="recitation6.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 6:</span> Designing a simple game</a></td></tr><tr><td align="right"></td><td><a href="recitation7.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 7:</span> Parametric data and visitors</a></td></tr><tr><td align="right"></td><td><a href="recitation8.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 8:</span> Understanding Mutation</a></td></tr><tr><td align="right"></td><td><a href="recitation9.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 9:</span> Working with Cyclic Data</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RecitationNum">Recitation 10:</span> Imperative Worlds</a></td></tr><tr><td align="right"></td><td><a href="recitation11.html" class="tocviewlink" data-pltdoc="x"><span class="RecitationNum">Recitation 11:</span> Working with Stacks, Queues and Trees</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RecitationNum">Recitation 10:</span> Imperative Worlds</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Warmup__filtering_on_.Array.Lists%29" class="tocviewlink" data-pltdoc="x">Warmup:<span class="mywbr"> &nbsp;</span> filtering on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Array<span class="mywbr"> &nbsp;</span>List</span><span class="RktMeta"></span></span></span>s</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.The_15_.Puzzle_using_impworld%29" class="tocviewlink" data-pltdoc="x">The 15 Puzzle using impworld</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Warmup__filtering_on_.Array.Lists%29" class="tocsubseclink" data-pltdoc="x">Warmup:<span class="mywbr"> &nbsp;</span> filtering on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Array<span class="mywbr"> &nbsp;</span>List</span><span class="RktMeta"></span></span></span>s</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.The_15_.Puzzle_using_impworld%29" class="tocsubseclink" data-pltdoc="x">The 15 Puzzle using impworld</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.10</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="recitation9.html" title="backward to &quot;Recitation 9: Working with Cyclic Data&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Recitations.html" title="up to &quot;Recitations&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="recitation11.html" title="forward to &quot;Recitation 11: Working with Stacks, Queues and Trees&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._)"></a><span class="RecitationNum">Recitation 10:</span> Imperative Worlds</h4><p><div class="SIntrapara"><span style="font-weight: bold">Goals:</span> We&rsquo;re going to implement <a href="https://en.wikipedia.org/wiki/15_puzzle">the 15 Puzzle</a>
using the Impworld library &#8212;<wbr></wbr> short for imperative, in this case meaning uses mutation.
</div><div class="SIntrapara"><div class="RelatedFiles"><blockquote><p class="boxed">Related files:<br/><span class="hspace">&nbsp;&nbsp;</span><a href="files/javalib.jar">javalib.jar</a><span class="hspace">&nbsp;&nbsp;</span> <span class="hspace">&nbsp;&nbsp;</span><a href="files/tester.jar">tester.jar</a><span class="hspace">&nbsp;&nbsp;</span> </p></blockquote></div></div></p><h5>1<tt>&nbsp;</tt><a name="(part._.Warmup__filtering_on_.Array.Lists)"></a>Warmup: filtering on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span>s</h5><p><div class="SIntrapara">Start a new project, called <span class="stt">FifteenGame</span>, and add to it the two libraries above.
Add a new file to the project, and add the following include directives:
</div><div class="SIntrapara"><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">java</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">util</span><span class="ProfjDefault">.</span><span class="ProfjType">ArrayList</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">tester</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">javalib</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">impworld</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">javalib</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">worldimages</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">java</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">awt</span><span class="ProfjDefault">.</span><span class="ProfjType">Color</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr></table></blockquote></div></div></p><p><div class="SIntrapara">Define a utilities class, and in it define a method with the signature
</div><div class="SIntrapara"><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">filter</span><span class="ProfjKeyword">(</span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">arr</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IPred</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">pred</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></div><div class="SIntrapara">with our usual definition of the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IPred</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> interface.  This method should produce a new
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span> containing all the items of the given list that pass the predicate.
Use a for-each loop or a counted-for loop, whichever seems easier.  (Try both!)</div></p><p><div class="SIntrapara"><span style="font-weight: bold">Harder:</span> Try to define a method with the signature
</div><div class="SIntrapara"><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">void</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">removeExcept</span><span class="ProfjKeyword">(</span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">arr</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IPred</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">T</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">pred</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></div><div class="SIntrapara">that modifies the given list to remove everything that fails the predicate.  The two obvious ways
to do this, using for-each loops or using counted-for loops, will fail.  The first one will give an exception,
and the second will either (likely) compute incorrect results or crash with a different exception, depending
on how you&rsquo;ve implemented it.  (Try removing the odd numbers from the list <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">[</span><span class="ProfjLiteral">1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">3</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">4</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">5</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">7</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">8</span><span class="ProfjKeyword">]</span><span class="RktMeta"></span></span></span>, and see
whether your code works properly...)</div></p><p>You cannot modify an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span> while you are iterating over it &#8212;<wbr></wbr> you get garbage answers like these.
You&rsquo;ll need to use a temporary <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span>, then update the original list after you&rsquo;ve finished
constructing the temporary...</p><h5>2<tt>&nbsp;</tt><a name="(part._.The_15_.Puzzle_using_impworld)"></a>The 15 Puzzle using impworld</h5><p>The <span class="emph">funworld</span> library used methods (like <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">onTick</span><span class="RktMeta"></span></span></span> or
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">onKeyEvent</span><span class="RktMeta"></span></span></span>) that returned new <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">World</span><span class="RktMeta"></span></span></span> objects, which made testing
easier: you could compare the old <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">World</span><span class="RktMeta"></span></span></span> to the new one.</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>You could also return objects that were instances of
<span class="emph">different</span> subclasses of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">World</span><span class="RktMeta"></span></span></span>, as you might have done on
<a href="assignment5.html" data-pltdoc="x"><span class="AssignmentNum">Assignment 5:</span> A Game, Visitors</a>, to represent different &ldquo;phases&rdquo; of your gameplay.  That&rsquo;s not
quite so easy to do with <span class="emph">impworld</span>...</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">  The <span class="emph">impworld</span> library uses
methods that return <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">void</span><span class="RktMeta"></span></span></span>, and you must use side effects to change the
current world to update it between ticks and on key events...but you still need
to figure out how to test it!</div></p><p>The 15 puzzle consists of four rows of four tiles, with one tile missing.  Each
tile has a number, and tiles can move into the hole if they are adjacent to it.
Represent this information as follows:</p><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// Represents an individual tile
</span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Tile</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// The number on the tile.  Use 0 to represent the hole
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">value</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// Draws this tile onto the background at the specified logical coordinates
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">WorldImage</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">drawAt</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">col</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">row</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">WorldImage</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">background</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">FifteenGame</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">extends</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">World</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// represents the rows of tiles
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjType">Tile</span><span class="ProfjKeyword">&gt;&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">tiles</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// draws the game
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">WorldScene</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">makeScene</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// handles keystrokes
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">void</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">onKeyEvent</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">k</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjComment">// needs to handle up, down, left, right to move the hole
</span><span class="ProfjWhiteSpace">    </span><span class="ProfjComment">// extra: handle "u" to undo moves
</span><span class="ProfjWhiteSpace">    </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>To construct the tiles, you&rsquo;ll need to construct 4 rows of 4 tiles each.  Which
loop structure (for-each or counted-for) do you think will be most appropriate
here?  (Hint: you&rsquo;ll need two loops, one nested inside the other.)</p><p>Implement swapping two tiles by their indices &#8212;<wbr></wbr> how will this have to change
from the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">swap</span><span class="RktMeta"></span></span></span> method we did in class?</p><p>To handle moving the tiles, you&rsquo;ll need to determine whether a given move
direction is currently possible: for example, if the hole is in the top-left
corner, then you cannot move the hole any further up or left.  It is up to you
to interpret a keystroke of e.g. "left" as either &ldquo;move the hole 1 cell left&rdquo;
or &ldquo;move the tile to the right of the hole left to fill the hole&rdquo;, and
similarly for the other keys.  You may find that one interpretation is more
intuitive than the other, but it is a rather subjective choice.  Be sure to
document in you code which interpretation you chose!</p><p>To start the game, create a Run configuration as usual, set the main class to
tester.Main, and set the arguments to ExampleFifteenGame.  Then create the
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ExampleFifteenGame</span><span class="RktMeta"></span></span></span> class with at least this method:</p><p><div class="SIntrapara"><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ExampleFifteenGame</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">void</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">testGame</span><span class="ProfjKeyword">(</span><span class="ProfjType">Tester</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjType">FifteenGame</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">g</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">FifteenGame</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjIdentifier">g</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">bigBang</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">120</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">120</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div></div><div class="SIntrapara">Obviously, you&rsquo;ll need to write tests, too!</div></p><p>To handle undoing moves: create another field in the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">FifteenGame</span><span class="RktMeta"></span></span></span> class
that is an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="ProfjKeyword">&lt;</span><span class="ProfjPrimType">String</span><span class="ProfjKeyword">&gt;</span><span class="RktMeta"></span></span></span>, which you&rsquo;ll update on each keystroke by
adding the key that was just pressed to the front of the list.  When the "u"
key is pressed, the most recent move (if any) will then be stored at the front
of the list &#8212;<wbr></wbr> you just have to figure out how to undo it!</p><p>Reminder: read the <a href="image-doc.html" data-pltdoc="x">The Image Library</a> for documentation on how the image
library works.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="recitation9.html" title="backward to &quot;Recitation 9: Working with Cyclic Data&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Recitations.html" title="up to &quot;Recitations&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="recitation11.html" title="forward to &quot;Recitation 11: Working with Stacks, Queues and Trees&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>